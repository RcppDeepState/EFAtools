% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PROMAX.R
\name{PROMAX}
\alias{PROMAX}
\title{Promax rotation}
\usage{
PROMAX(x, k = 4, type = "EFAdiff", kaiser = TRUE, P_type = NULL,
  precision = NULL, order_type = NULL)
}
\arguments{
\item{x}{matrix or class \code{\link{PAF}} object. Either a matrix containing an unrotated factor
solution, or a \code{\link{PAF}} output object.}

\item{k}{numeric. The power used for computing the target matrix P in the
promax rotation.}

\item{type}{character. If one of "EFAdiff" (default), "psych", or "SPSS" is
used, and the following arguments (except kaiser) are left with \code{NULL},
these implementations
are executed as reported in Steiner and Grieder (2019; see details).
Individual properties can be adapted using one of the three types and
specifying some of the following
arguments. If set to another value than one of the three specified above, all
following arguments must be specified.}

\item{kaiser}{logical. If \code{TRUE} (default), kaiser normalization is performed in
the varimax rotation.}

\item{P_type}{character. Default is \code{NULL} This specifies how the target matrix
P is computed. If "HW" it will use the implementation of Hendrickson and
White (1964), which is also used by the psych and stats packages. If "SPSS"
it will use the SPSS version (see below or Steiner and Grieder, 2019 for details).}

\item{precision}{numeric. The tolerance for stopping in the varimax procecdure.
This is passed to the "eps" argument of the
\code{\link[stats::varimax]{stats::varimax}} function. Default is \code{NULL}}

\item{order_type}{character. How to order the factors and when to reflect
their signs. Default is \code{NULL} "psych" will use the psych method, "SPSS" the
SPSS method. See below for details.}
}
\value{
A list of class PROMAX containing the following

\item{loadings}{The promax rotated loadings (the pattern matrix).}
\item{rotmat}{The rotation matrix.}
\item{Phi}{The factor intercorrelations.}
\item{Structure}{The structure matrix.}
}
\description{
This function implements the promax rotation procedure. It can
reproduce the results from \code{\link[psych::fa]{psych::fa}} and the
SPSS FACTOR algorithm. To reproduce psych or SPSS principal axis factoring,
only the \code{type} argument has to be specified additional to \code{x}. The other
arguments can be used to control the procedure more flexibly.
}
\details{
\code{type = "EFAdiff"} will use the following argument specification:
\code{P_type = "HW", precision = 1e-10, order_type = "psych"}.
\code{type = "psych"} will use the following argument specification:
\code{P_type = "HW", precision = 1e-5, order_type = "psych"}.
\code{type = "SPSS"} will use the following argument specification:
\code{P_type = "SPSS", precision = 1e-10, order_type = "SPSS"}.

The \code{P_type} argument can take two values, "HW" and "SPSS". It controlls
which formula is used to compute the target matrix P in the promax rotation.
"HW" uses the formula from Hendrickson and White (1964), specifically:
\code{P <- abs(A^(k + 1)) / A},
where A is the matrix containing varimax rotated loadings.
"SPSS" uses a different formula, which can be found in the SPSS 23 Algorithms
manual:
\code{P <- abs(A / sqrt(rowSums(A^2))) ^(k + 1) * (sqrt(rowSums(A^2)) / A)}

The \code{order_type} argument can take two arguments "psych" or "SPSS". The
order of factors is then determined using the ordered communalities of the
promax pattern matrix, if \code{order_type = "psych"}, and using the ordered
sums of squares of factor loadings per factor if \code{order_type = "SPSS"}.
loadings = AP, rotmat = U, Phi = Phi, Structure = Structure
}
