% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PARALLEL.R
\name{PARALLEL}
\alias{PARALLEL}
\title{Parallel analysis}
\source{
Crawford, A. V., Green, S. B., Levy, R., Lo, W. J., Scott, L., Svetina, D., & Thompson, M. S. (2010). Evaluation of parallel analysis methods for determining the number of factors. Educational and Psychological Measurement, 70(6), 885-901.
}
\usage{
PARALLEL(
  x = NULL,
  cors = TRUE,
  ncases = NA,
  nvars = NA,
  ndatasets = 1000,
  percent = 95,
  kind = c("PAF", "PCA"),
  sim = TRUE,
  resample = FALSE,
  replace = TRUE,
  na_action = c("rm", "none"),
  n_cores = parallel::detectCores(),
  decision_rule = c("Means", "Percentile", "Crawford")
)
}
\arguments{
\item{x}{matrix or data.frame. The real data to compare the simulated eigenvalues
against. Must not contain variables of classes other than numeric. Can be a
correlation matrix or raw data.}

\item{cors}{logical. Whether x is a correlation matrix (TRUE), or raw data.
against. Must not contain variables of classes other than numeric.}

\item{ncases}{numeric. The number of cases / observations to simulate. Should only
be specified if \code{x} is left as \code{NULL} as otherwise the dimensions are taken from \code{x}.}

\item{nvars}{numeric. The number of variables / indicators to simulate. Should only
be specified if \code{x} is left as \code{NULL} as otherwise the dimensions are taken from \code{x}.}

\item{ndatasets}{numeric. The number of datasets to simulate. Default is 1000.}

\item{percent}{numeric. A vector of percentiles to take the simulated eigenvalues from.
Default is 95.}

\item{kind}{character. What kind of parallel analysis to perform. Can be either
"PAF" or "PCA". If using "PAF", the diagonal of the correlation matrices is
replaced by the squared multiple correlations of the indicators. If using "PCA",
the diagonal values of the correlation matrices  are left to be 1.}

\item{sim}{logical. Whether eigenvalues for parallel analysis should be found
on simulated data. Default is \code{TRUE}.}

\item{resample}{logical. Whether eigenvalues for parallel analysis should be
found on data sets created by resampling from \code{x}. Default is \code{TRUE}.}

\item{replace}{logical. Whether, if \code{resample = TRUE}, the resampling should
be done with replacements or not. Default is \code{TRUE}.}

\item{na_action}{character. What to do with \code{NA}s occurring in \code{x}. \code{"rm"}
removes them list-wise. \code{"none"} returns a warning if \code{NA}s occur and
in this case does not perform resampling, nor compares the the eigen values
of \code{x} against the simulated ones.}

\item{n_cores}{numeric. Number of cores to perform the simulations and resampling
on. By default this is found using \code{parallel::detectCores()}.}

\item{decision_rule}{character. Which rule to use to determine the number of
factors to retain. Default is \code{"mean"}, which will use the average
simulated eigenvalues. \code{"Percentile"}, uses the percentiles specified
in percent. \code{"Crawford"} uses the 95th percentile for the first factor
and the mean afterwards (based on Crawford et al, 2010).}
}
\value{
A list of class PARALLEL containing the following objects
\item{eigenvalues}{A matrix containing the eigenvalues of the real and the simulated data.}
\item{ctrl}{A list of control settings used in the print function.}
}
\description{
Various methods for performing parallel analysis.
}
\examples{
\dontrun{
# example without real data
PARALLEL(ncases = 500, nvars = 10)
# example without correlation matrix
PARALLEL(test_models$case_11b$cormat, ncases = test_models$case_11b$N)
}
}
